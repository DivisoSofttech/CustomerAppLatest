<<<<<<< HEAD
{"version":3,"sources":["./src/app/pages/store/store.page.html","./src/app/pages/store/store.module.ts","./src/app/pages/store/store.page.scss","./src/app/pages/store/store.page.ts"],"names":[],"mappings":"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","file":"pages-store-store-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <app-store-header\\r\\n    *ngIf=\\\"store != undefined\\\"\\r\\n    [name]=\\\"store.name\\\"\\r\\n    (searchEnabled)=\\\"toggleFabButton($event)\\\"\\r\\n  ></app-store-header>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-fab *ngIf=\\\"showCatgeoryFilterFab === true\\\" vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button (click)=\\\"categoryListPopOver($event)\\\">\\r\\n      <ion-icon name=\\\"pizza\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <app-loading\\r\\n              *ngIf=\\\"showRestaurantLoading === true\\\"\\r\\n              [type]=\\\"'restaurant-detail'\\\"\\r\\n  ></app-loading>\\r\\n  <app-restaurant-card\\r\\n    *ngIf=\\\"store != undefined\\\"\\r\\n    [store]=\\\"store\\\"\\r\\n    [viewType]=\\\"'detailedCard'\\\"\\r\\n  ></app-restaurant-card>\\r\\n\\r\\n  <ion-segment\\r\\n    (ionChange)=\\\"segmentChanged($event)\\\"\\r\\n    [(ngModel)]=\\\"currentSegment\\\"\\r\\n  >\\r\\n    <ion-segment-button value=\\\"menu\\\" checked>\\r\\n      <ion-label>Menu</ion-label>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"reviews\\\">\\r\\n      <ion-label>Reviews</ion-label>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"info\\\">\\r\\n      <ion-label>Info</ion-label>\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n\\r\\n  <ion-slides (ionSlideDidChange)=\\\"slideChanged($event)\\\">\\r\\n    <ion-slide>\\r\\n      <ion-grid no-padding>\\r\\n        <ion-row>\\r\\n          <ion-list *ngIf=\\\"store != undefined && showCategoryWiseProducts === false\\\">\\r\\n            <app-product-card\\r\\n              *ngFor=\\\"let stockCurrent of stockCurrents\\\"\\r\\n              [store]=\\\"store\\\"\\r\\n              [stockCurrent]=\\\"stockCurrent\\\"\\r\\n            ></app-product-card>\\r\\n          </ion-list>\\r\\n        </ion-row>\\r\\n        <ion-row *ngIf=\\\"showCategoryWiseProducts === true\\\">\\r\\n          <ion-list *ngFor=\\\"let category of categories\\\">\\r\\n              <ion-item color=\\\"light\\\">\\r\\n                  <ion-avatar>\\r\\n                      <ion-img\\r\\n                      [src]=\\\"\\r\\n                        'data:' +\\r\\n                        category.imageContentType +\\r\\n                        ';base64,' +\\r\\n                        category.image\\r\\n                      \\\"\\r\\n                      class=\\\"imageShow\\\"\\r\\n                    >\\r\\n                    </ion-img>\\r\\n                  </ion-avatar>\\r\\n                <ion-label margin>{{category.name}}</ion-label>\\r\\n              </ion-item>\\r\\n              <app-category-wise-products-card *ngIf=\\\"store !== undefined\\\"\\r\\n              [category]=\\\"category\\\"\\r\\n              [store]=\\\"store\\\">\\r\\n              </app-category-wise-products-card>\\r\\n          </ion-list>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-slide>\\r\\n    <ion-slide>\\r\\n      <app-review *ngIf=\\\"store != undefined\\\" [store]=\\\"store\\\"></app-review>\\r\\n    </ion-slide>\\r\\n    <ion-slide>\\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n          <app-map></app-map>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" *ngIf=\\\"store !== undefined\\\">\\r\\n            <ion-text *ngIf=\\\"store.info\\\">\\r\\n              <p>{{ store.info }}</p>\\r\\n            </ion-text>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-text *ngIf=\\\"store != undefined\\\">\\r\\n              <p>\\r\\n                {{ store.info }}\\r\\n              </p>\\r\\n            </ion-text>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-slide>\\r\\n  </ion-slides>\\r\\n\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"arrow-dropdown\\\"\\r\\n      pullingText=\\\"Pull to refresh\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n    >\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer>\\r\\n  <app-cart *ngIf=\\\"currentSegment === 'menu'\\\"></app-cart>\\r\\n</ion-footer>\\r\\n\"","import { CartComponent } from './../../components/cart/cart.component';\r\nimport { ReviewComponent } from './../../components/review/review.component';\r\nimport { StoreHeaderComponent } from './../../components/store-header/store-header.component';\r\nimport { ProductCardComponent } from './../../components/product-card/product-card.component';\r\nimport { ComponentsModule } from './../../components/components.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { StorePage } from './store.page';\r\nimport { RestaurantCardComponent } from 'src/app/components/restaurant-card/restaurant-card.component';\r\nimport { HotelMenuPopoverComponent } from 'src/app/components/hotel-menu-popover/hotel-menu-popover.component';\r\nimport { LoadingComponent } from 'src/app/components/loading/loading.component';\r\nimport { CategoryWiseProductsCardComponent } from 'src/app/components/category-wise-products-card/category-wise-products-card.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StorePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [StorePage],\r\n  entryComponents: [StoreHeaderComponent, RestaurantCardComponent , \r\n                    ProductCardComponent , ReviewComponent,\r\n                    CartComponent, HotelMenuPopoverComponent,LoadingComponent,\r\n                    CategoryWiseProductsCardComponent\r\n                  ]\r\n})\r\nexport class StorePageModule {}\r\n","module.exports = \"ion-list {\\n  width: 100%;\\n}\\n\\nion-footer {\\n  background: blue;\\n  color: white;\\n}\\n\\napp-loading {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc3RvcmUvRjpcXFByb2plY3RzXFxDQS1MYXRlc3RcXEN1c3RvbWVyQXBwTGF0ZXN0L3NyY1xcYXBwXFxwYWdlc1xcc3RvcmVcXHN0b3JlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc3RvcmUvc3RvcmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0FDQ0Y7O0FERUE7RUFDRSxXQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9zdG9yZS9zdG9yZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tbGlzdCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbmlvbi1mb290ZXIge1xyXG4gIGJhY2tncm91bmQ6IGJsdWU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG5hcHAtbG9hZGluZyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn0iLCJpb24tbGlzdCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5pb24tZm9vdGVyIHtcbiAgYmFja2dyb3VuZDogYmx1ZTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5hcHAtbG9hZGluZyB7XG4gIHdpZHRoOiAxMDAlO1xufSJdfQ== */\"","import { IonSlides, IonRefresher, PopoverController } from '@ionic/angular';\r\nimport { ViewChild } from '@angular/core';\r\nimport { QueryResourceService } from 'src/app/api/services/query-resource.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { StockCurrent, Entry, Category, Store } from 'src/app/api/models';\r\nimport { HotelMenuPopoverComponent } from 'src/app/components/hotel-menu-popover/hotel-menu-popover.component';\r\nimport { Util } from 'src/app/services/util';\r\nimport { NGXLogger } from 'ngx-logger';\r\n\r\n@Component({\r\n  selector: 'app-store',\r\n  templateUrl: './store.page.html',\r\n  styleUrls: ['./store.page.scss']\r\n})\r\nexport class StorePage implements OnInit {\r\n\r\n  storeId;\r\n\r\n  store: Store;\r\n\r\n  stockCurrents: StockCurrent[] = [];\r\n\r\n  tempStockCurrents = [];\r\n\r\n  currentSegment = 'menu';\r\n\r\n  selectedCategory = 'All';\r\n\r\n  showRestaurantLoading = true;\r\n\r\n  showCategoryWiseProducts = true;\r\n\r\n  categories: Category[] = [];\r\n\r\n  entry = [];\r\n\r\n  showCatgeoryFilterFab = true;\r\n\r\n  @ViewChild(IonSlides, null) ionSlides: IonSlides;\r\n  @ViewChild(IonRefresher, null) IonRefresher: IonRefresher;\r\n\r\n\r\n  constructor(\r\n    private queryResource: QueryResourceService,\r\n    private route: ActivatedRoute,\r\n    private popover: PopoverController,\r\n    private logger: NGXLogger,\r\n    private util: Util\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getStoreId();\r\n    this.getStore();\r\n    this.getCategories(0);\r\n    this.getCategoriesEntry(0);\r\n  }\r\n\r\n  getStoreId() {\r\n    this.storeId = this.route.snapshot.paramMap.get('id');\r\n  }\r\n\r\n  getStore() {\r\n    this.queryResource\r\n      .findStoreByRegisterNumberUsingGET(this.storeId)\r\n      .subscribe(\r\n        result => {\r\n          this.logger.info('Got Store ' , result.name , result);\r\n          this.store = result;\r\n          this.showRestaurantLoading = false;\r\n        },\r\n        err => {\r\n          this.showRestaurantLoading = false;\r\n          this.logger.fatal('Error Fetching Stores' , err);\r\n        }\r\n      );\r\n  }\r\n\r\n  getCategoriesEntry(i) {\r\n    this.queryResource\r\n    .findCategoryAndCountBystoreIdUsingGET({\r\n      storeId: this.storeId\r\n    })\r\n    .subscribe(result => {\r\n      this.logger.info('Got Categories Entry' , result);\r\n      this.entry = result;\r\n    },\r\n    err => {\r\n      this.logger.fatal('Error Fetching Categories Entry' , err);\r\n    });\r\n  }\r\n\r\n  getCategories(i) {\r\n    this.queryResource\r\n    .findAllCategoriesUsingGET({\r\n      iDPcode: this.storeId\r\n    })\r\n    .subscribe(result => {\r\n      this.logger.info('Got Categories' , result);\r\n      result.content.forEach(c => {\r\n        this.categories.push(c);\r\n      });\r\n      ++i;\r\n      if (i < result.totalPages) {\r\n        this.getCategories(i);\r\n      }\r\n    });\r\n  }\r\n\r\n  segmentChanged(event) {\r\n    this.currentSegment = event.detail.value;\r\n    if (this.currentSegment === 'menu') {\r\n      this.ionSlides.slideTo(0);\r\n    } else if (this.currentSegment === 'reviews') {\r\n      this.ionSlides.slideTo(1);\r\n    } else {\r\n      this.ionSlides.slideTo(2);\r\n    }\r\n  }\r\n\r\n  async categoryListPopOver(ev: any) {\r\n    this.tempStockCurrents = this.stockCurrents;\r\n    const popover = await this.popover.create({\r\n      component: HotelMenuPopoverComponent,\r\n      componentProps: {\r\n        categories: this.entry,\r\n        storeId: this.storeId,\r\n        selectedCategory: this.selectedCategory\r\n      },\r\n      event: ev,\r\n      translucent: true\r\n    });\r\n\r\n    popover.onDidDismiss().then((data: any) => {\r\n      if (data.data !== undefined) {\r\n        this.selectedCategory = data.data.selectedCategory;\r\n        if (this.selectedCategory === 'All') {\r\n          this.stockCurrents = this.tempStockCurrents;\r\n          this.showCategoryWiseProducts = true;\r\n        } else {\r\n          this.stockCurrents = data.data.result.filter(s => s !== null);\r\n          this.logger.info('Got StockCurrent of ' , this.selectedCategory , this.stockCurrents);\r\n          this.showCategoryWiseProducts = false;\r\n        }\r\n      }\r\n    });\r\n    return await popover.present();\r\n  }\r\n\r\n  slideChanged(event) {\r\n    let index: any;\r\n    this.ionSlides.getActiveIndex().then(num => {\r\n      index = num;\r\n      if (index === 0) {\r\n        this.currentSegment = 'menu';\r\n      } else if (index === 1) {\r\n        this.currentSegment = 'reviews';\r\n      } else {\r\n        this.currentSegment = 'info';\r\n      }\r\n    });\r\n  }\r\n\r\n  refresh(event) {\r\n    this.getCategories(0);\r\n  }\r\n\r\n  toggleIonRefresher() {\r\n    this.IonRefresher.complete();\r\n  }\r\n\r\n  toggleFabButton() {\r\n    this.logger.info('Hiding Fab Button');\r\n    this.showCatgeoryFilterFab = !this.showCatgeoryFilterFab;\r\n  }\r\n}\r\n"],"sourceRoot":""}
=======
{"version":3,"sources":["./src/app/pages/store/store.page.html","./src/app/pages/store/store.module.ts","./src/app/pages/store/store.page.scss","./src/app/pages/store/store.page.ts"],"names":[],"mappings":"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","file":"pages-store-store-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <app-store-header\\n    *ngIf=\\\"store != undefined\\\"\\n    [name]=\\\"store.name\\\"\\n    [storeId]=\\\"store.regNo\\\"\\n    (searchEnabled)=\\\"toggleFabButton($event)\\\"\\n  ></app-store-header>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-fab *ngIf=\\\"showCatgeoryFilterFab === true\\\" vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"categoryListPopOver($event)\\\">\\n      <ion-icon name=\\\"pizza\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <app-loading\\n              *ngIf=\\\"showRestaurantLoading === true\\\"\\n              [type]=\\\"'restaurant-detail'\\\"\\n  ></app-loading>\\n  <app-restaurant-card\\n    *ngIf=\\\"store != undefined\\\"\\n    [store]=\\\"store\\\"\\n    [viewType]=\\\"'detailedCard'\\\"\\n  ></app-restaurant-card>\\n\\n  <ion-segment\\n    (ionChange)=\\\"segmentChanged($event)\\\"\\n    [(ngModel)]=\\\"currentSegment\\\"\\n  >\\n    <ion-segment-button value=\\\"menu\\\" checked>\\n      <ion-label>Menu</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"reviews\\\">\\n      <ion-label>Reviews</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"info\\\">\\n      <ion-label>Info</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <ion-slides (ionSlideDidChange)=\\\"slideChanged($event)\\\">\\n    <ion-slide>\\n      <ion-grid no-padding>\\n        <ion-row>\\n          <ion-list *ngIf=\\\"store != undefined && showCategoryWiseProducts === false\\\">\\n            <app-product-card\\n              *ngFor=\\\"let stockCurrent of stockCurrents\\\"\\n              [store]=\\\"store\\\"\\n              [stockCurrent]=\\\"stockCurrent\\\"\\n            ></app-product-card>\\n          </ion-list>\\n        </ion-row>\\n        <ion-row *ngIf=\\\"showCategoryWiseProducts === true\\\">\\n          <ion-list *ngFor=\\\"let category of categories\\\">\\n              <ion-item color=\\\"light\\\">\\n                  <ion-avatar>\\n                      <ion-img\\n                      [src]=\\\"\\n                        'data:' +\\n                        category.imageContentType +\\n                        ';base64,' +\\n                        category.image\\n                      \\\"\\n                      class=\\\"imageShow\\\"\\n                    >\\n                    </ion-img>\\n                  </ion-avatar>\\n                <ion-label margin>{{category.name}}</ion-label>\\n              </ion-item>\\n              <app-category-wise-products-card *ngIf=\\\"store !== undefined\\\"\\n              [category]=\\\"category\\\"\\n              [store]=\\\"store\\\">\\n              </app-category-wise-products-card>\\n          </ion-list>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-slide>\\n    <ion-slide>\\n      <app-review *ngIf=\\\"store != undefined\\\" [store]=\\\"store\\\"></app-review>\\n    </ion-slide>\\n    <ion-slide>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n          <app-map\\n          [showActiveLocation]=\\\"'false'\\\"></app-map>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" *ngIf=\\\"store !== undefined\\\">\\n            <ion-text *ngIf=\\\"store.info\\\">\\n              <p>{{ store.info }}</p>\\n            </ion-text>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-text *ngIf=\\\"store != undefined\\\">\\n              <p>\\n                {{ store.info }}\\n              </p>\\n            </ion-text>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-slide>\\n  </ion-slides>\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"arrow-dropdown\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n    >\\n    </ion-refresher-content>\\n  </ion-refresher>\\n</ion-content>\\n\\n<ion-footer>\\n  <app-cart *ngIf=\\\"currentSegment === 'menu'\\\"></app-cart>\\n</ion-footer>\\n\"","import { CartComponent } from './../../components/cart/cart.component';\nimport { ReviewComponent } from './../../components/review/review.component';\nimport { StoreHeaderComponent } from './../../components/store-header/store-header.component';\nimport { ProductCardComponent } from './../../components/product-card/product-card.component';\nimport { ComponentsModule } from './../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StorePage } from './store.page';\nimport { RestaurantCardComponent } from 'src/app/components/restaurant-card/restaurant-card.component';\nimport { HotelMenuPopoverComponent } from 'src/app/components/hotel-menu-popover/hotel-menu-popover.component';\nimport { LoadingComponent } from 'src/app/components/loading/loading.component';\nimport { CategoryWiseProductsCardComponent } from 'src/app/components/category-wise-products-card/category-wise-products-card.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StorePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [StorePage],\n  entryComponents: [StoreHeaderComponent, RestaurantCardComponent , \n                    ProductCardComponent , ReviewComponent,\n                    CartComponent, HotelMenuPopoverComponent,LoadingComponent,\n                    CategoryWiseProductsCardComponent\n                  ]\n})\nexport class StorePageModule {}\n","module.exports = \"ion-list {\\n  width: 100%;\\n}\\n\\nion-footer {\\n  background: blue;\\n  color: white;\\n}\\n\\napp-loading {\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ppc2hudWovRGVza3RvcC9Xb3JrL0N1c3RvbWVyQXBwTGF0ZXN0L3NyYy9hcHAvcGFnZXMvc3RvcmUvc3RvcmUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdG9yZS9zdG9yZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0b3JlL3N0b3JlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1saXN0IHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmlvbi1mb290ZXIge1xuICBiYWNrZ3JvdW5kOiBibHVlO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbmFwcC1sb2FkaW5nIHtcbiAgd2lkdGg6IDEwMCU7XG59IiwiaW9uLWxpc3Qge1xuICB3aWR0aDogMTAwJTtcbn1cblxuaW9uLWZvb3RlciB7XG4gIGJhY2tncm91bmQ6IGJsdWU7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuYXBwLWxvYWRpbmcge1xuICB3aWR0aDogMTAwJTtcbn0iXX0= */\"","import { IonSlides, IonRefresher, PopoverController } from '@ionic/angular';\nimport { ViewChild } from '@angular/core';\nimport { QueryResourceService } from 'src/app/api/services/query-resource.service';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { StockCurrent, Entry, Category, Store } from 'src/app/api/models';\nimport { HotelMenuPopoverComponent } from 'src/app/components/hotel-menu-popover/hotel-menu-popover.component';\nimport { Util } from 'src/app/services/util';\nimport { NGXLogger } from 'ngx-logger';\nimport { MapComponent } from 'src/app/components/map/map.component';\n\n@Component({\n  selector: 'app-store',\n  templateUrl: './store.page.html',\n  styleUrls: ['./store.page.scss']\n})\nexport class StorePage implements OnInit {\n\n  storeId;\n\n  store: Store;\n\n  stockCurrents: StockCurrent[] = [];\n\n  tempStockCurrents = [];\n\n  currentSegment = 'menu';\n\n  selectedCategory = 'All';\n\n  showRestaurantLoading = true;\n\n  showCategoryWiseProducts = true;\n\n  categories: Category[] = [];\n\n  entry = [];\n\n  showCatgeoryFilterFab = true;\n\n  @ViewChild(IonSlides, null) ionSlides: IonSlides;\n  @ViewChild(IonRefresher, null) IonRefresher: IonRefresher;\n  @ViewChild(MapComponent , null) map: MapComponent;\n\n\n  constructor(\n    private queryResource: QueryResourceService,\n    private route: ActivatedRoute,\n    private popover: PopoverController,\n    private logger: NGXLogger,\n    private util: Util\n  ) {}\n\n  ngOnInit() {\n    this.getStoreId();\n    this.getStore();\n    this.getCategories(0);\n    this.getCategoriesEntry(0);\n  }\n\n  getStoreId() {\n    this.storeId = this.route.snapshot.paramMap.get('id');\n  }\n\n  getStore() {\n    this.queryResource\n      .findStoreByRegisterNumberUsingGET(this.storeId)\n      .subscribe(\n        result => {\n          this.logger.info('Got Store ' , result.name , result);\n          this.store = result;\n          this.showRestaurantLoading = false;\n\n          // Load The Map\n          // Dumb data until Location is Set\n          this.map.loadMap('15.8505159,76.2710833');\n        },\n        err => {\n          this.showRestaurantLoading = false;\n          this.logger.fatal('Error Fetching Stores' , err);\n        }\n      );\n  }\n\n  getCategoriesEntry(i) {\n    this.queryResource\n    .findCategoryAndCountBystoreIdUsingGET({\n      storeId: this.storeId\n    })\n    .subscribe(result => {\n      this.logger.info('Got Categories Entry' , result);\n      this.entry = result;\n    },\n    err => {\n      this.logger.fatal('Error Fetching Categories Entry' , err);\n    });\n  }\n\n  getCategories(i) {\n    this.queryResource\n    .findAllCategoriesUsingGET({\n      iDPcode: this.storeId\n    })\n    .subscribe(result => {\n      this.logger.info('Got Categories' , result);\n      result.content.forEach(c => {\n        this.categories.push(c);\n      });\n      ++i;\n      if (i < result.totalPages) {\n        this.getCategories(i);\n      }\n      this.toggleIonRefresher();\n    });\n  }\n\n  segmentChanged(event) {\n    this.currentSegment = event.detail.value;\n    if (this.currentSegment === 'menu') {\n      this.ionSlides.slideTo(0);\n    } else if (this.currentSegment === 'reviews') {\n      this.ionSlides.slideTo(1);\n    } else {\n      this.ionSlides.slideTo(2);\n    }\n  }\n\n  async categoryListPopOver(ev: any) {\n    this.tempStockCurrents = this.stockCurrents;\n    const popover = await this.popover.create({\n      component: HotelMenuPopoverComponent,\n      componentProps: {\n        categories: this.entry,\n        storeId: this.storeId,\n        selectedCategory: this.selectedCategory\n      },\n      event: ev,\n      translucent: true\n    });\n\n    popover.onDidDismiss().then((data: any) => {\n      if (data.data !== undefined) {\n        this.selectedCategory = data.data.selectedCategory;\n        if (this.selectedCategory === 'All') {\n          this.stockCurrents = this.tempStockCurrents;\n          this.showCategoryWiseProducts = true;\n        } else {\n          this.stockCurrents = data.data.result.filter(s => s !== null);\n          this.logger.info('Got StockCurrent of ' , this.selectedCategory , this.stockCurrents);\n          this.showCategoryWiseProducts = false;\n        }\n      }\n    });\n    return await popover.present();\n  }\n\n  slideChanged(event) {\n    let index: any;\n    this.ionSlides.getActiveIndex().then(num => {\n      index = num;\n      if (index === 0) {\n        this.currentSegment = 'menu';\n      } else if (index === 1) {\n        this.currentSegment = 'reviews';\n      } else {\n        this.currentSegment = 'info';\n      }\n    });\n  }\n\n  refresh(event) {\n    this.stockCurrents = [];\n    this.tempStockCurrents = [];\n    this.categories = [];\n    this.getCategories(0);\n  }\n\n  toggleIonRefresher() {\n    this.IonRefresher.complete();\n  }\n\n  toggleFabButton() {\n    this.logger.info('Hiding Fab Button');\n    this.showCatgeoryFilterFab = !this.showCatgeoryFilterFab;\n  }\n}\n"],"sourceRoot":""}
>>>>>>> 55c1a055289f9a1985a8aa8e0cc24c2f3ce4e5f7
