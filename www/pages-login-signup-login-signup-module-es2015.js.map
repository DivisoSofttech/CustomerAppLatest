<<<<<<< HEAD
{"version":3,"sources":["./src/app/pages/login-signup/login-signup.page.html","./src/app/pages/login-signup/login-signup.module.ts","./src/app/pages/login-signup/login-signup.page.scss","./src/app/pages/login-signup/login-signup.page.ts"],"names":[],"mappings":"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","file":"pages-login-signup-login-signup-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-title>Login</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  \\r\\n  <ion-segment (ionChange)=\\\"slide($event)\\\" [value]=\\\"value\\\" class=\\\"mobile\\\">\\r\\n    <ion-segment-button value=\\\"login\\\">\\r\\n      <ion-label>Login</ion-label>\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"signup\\\">\\r\\n      <ion-label>Register</ion-label>\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n  \\r\\n  <ion-content padding class=\\\"mobile\\\">\\r\\n    <ion-slides #slides (ionSlideDidChange)=\\\"slideChange()\\\">\\r\\n      <ion-slide>\\r\\n        <ion-grid margin-top>\\r\\n          <ion-row justify-content-center text-center class=\\\"centre\\\">\\r\\n            <ion-col size=\\\"6\\\" justify-content-center>\\r\\n              <div class=\\\"circle\\\">\\r\\n                <ion-icon class=\\\"large-icon\\\" name=\\\"person\\\"></ion-icon>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row justify-content-center class=\\\"centre\\\">\\r\\n            <ion-col text-center class=\\\"container-box\\\">\\r\\n              <ion-item class=\\\"item-inner\\\">\\r\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Username or Email</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"username\\\" background=\\\"light\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-item class=\\\"item-inner\\\">\\r\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Password</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-button [disabled]=\\\"loginDisabled()\\\" (click)=\\\"login()\\\" expand=\\\"block\\\" margin-top margin-bottom>Login\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-slide>\\r\\n      <ion-slide>\\r\\n        <ion-grid margin-top>\\r\\n          <ion-row justify-content-center>\\r\\n            <ion-col size=\\\"6\\\" text-center>\\r\\n              <div class=\\\"circle\\\">\\r\\n                <ion-icon class=\\\"large-icon\\\" name=\\\"person\\\"></ion-icon>\\r\\n              </div>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row justify-content-center class=\\\"centre\\\">\\r\\n            <ion-col text-center class=\\\"container-box\\\">\\r\\n              <ion-item class=\\\"item-inner\\\">\\r\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Username</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"username\\\" background=\\\"light\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-item class=\\\"item-inner\\\">\\r\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Email</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"email\\\" background=\\\"light\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-item class=\\\"item-inner\\\">\\r\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Password</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-button [disabled]=\\\"registerDisabled()\\\" (click)=\\\"signup()\\\" expand=\\\"block\\\" margin-top margin-bottom>\\r\\n                Register</ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-slide>\\r\\n    </ion-slides>\\r\\n  </ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginSignupPage } from './login-signup.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginSignupPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginSignupPage]\r\n})\r\nexport class LoginSignupPageModule {}\r\n","module.exports = \".cursor {\\n  cursor: pointer;\\n}\\n\\n.large-icon {\\n  font-size: 125px;\\n  opacity: 0.4;\\n}\\n\\n.circle {\\n  display: inline-block;\\n  background-color: aliceblue;\\n  border-radius: 50%;\\n  height: 135px;\\n  width: 135px;\\n}\\n\\n.centre {\\n  text-align: center;\\n}\\n\\n.container-box {\\n  width: 100%;\\n  max-width: 750px;\\n  display: inline-block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4tc2lnbnVwL0Y6XFxQcm9qZWN0c1xcQ0EtTGF0ZXN0XFxDdXN0b21lckFwcExhdGVzdC9zcmNcXGFwcFxccGFnZXNcXGxvZ2luLXNpZ251cFxcbG9naW4tc2lnbnVwLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbG9naW4tc2lnbnVwL2xvZ2luLXNpZ251cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0VBQ0EsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLGdCQUFBO0VBQ0EscUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luLXNpZ251cC9sb2dpbi1zaWdudXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmN1cnNvciB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5sYXJnZS1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMTI1cHg7XHJcbiAgICBvcGFjaXR5OiAuNDtcclxufVxyXG5cclxuLmNpcmNsZSB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBoZWlnaHQ6IDEzNXB4O1xyXG4gICAgd2lkdGg6IDEzNXB4O1xyXG59XHJcblxyXG4uY2VudHJlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbnRhaW5lci1ib3gge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDc1MHB4O1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcbiIsIi5jdXJzb3Ige1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5sYXJnZS1pY29uIHtcbiAgZm9udC1zaXplOiAxMjVweDtcbiAgb3BhY2l0eTogMC40O1xufVxuXG4uY2lyY2xlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgaGVpZ2h0OiAxMzVweDtcbiAgd2lkdGg6IDEzNXB4O1xufVxuXG4uY2VudHJlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY29udGFpbmVyLWJveCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDc1MHB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59Il19 */\"","\r\nimport { KeycloakService } from './../../services/security/keycloak.service';\r\nimport { IonSlides, MenuController } from '@ionic/angular';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { QueryResourceService } from 'src/app/api/services/query-resource.service';\r\nimport { CommandResourceService } from 'src/app/api/services';\r\nimport { Util } from 'src/app/services/util';\r\nimport { ApiConfiguration } from 'src/app/api/api-configuration';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-login-signup',\r\n  templateUrl: './login-signup.page.html',\r\n  styleUrls: ['./login-signup.page.scss']\r\n})\r\nexport class LoginSignupPage implements OnInit {\r\n  username = '';\r\n  password = '';\r\n  email = '';\r\n  loginTab = true;\r\n  value = 'login';\r\n  phone: number;\r\n  @ViewChild('slides', null) slides: IonSlides;\r\n\r\n  constructor(\r\n    private keycloakService: KeycloakService,\r\n    private queryResourceService: QueryResourceService,\r\n    private commandResourceService: CommandResourceService,\r\n    private util: Util,\r\n    private apiConfiguration: ApiConfiguration,\r\n    private storage: Storage\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.isLoggedIn();\r\n  }\r\n\r\n  // Login and Register Methods\r\n\r\n  login() {\r\n    this.util.createLoader()\r\n      .then(loader => {\r\n        loader.present();\r\n        this.keycloakService.authenticate({ username: this.username, password: this.password },\r\n          () => {\r\n            loader.dismiss();\r\n            console.log('slsklkslkks');\r\n            this.createUserIfNotExists(this.username);\r\n          },\r\n          () => {\r\n            loader.dismiss();\r\n            this.util.createToast('Invalid Username / Password');\r\n          });\r\n      });\r\n  }\r\n\r\n  signup() {\r\n    this.util.createLoader()\r\n      .then(loader => {\r\n        loader.present();\r\n        const user = { username: this.username, email: this.email };\r\n        this.keycloakService.createAccount(user, this.password,\r\n          (res) => {\r\n            loader.dismiss();\r\n            this.login();\r\n          },\r\n          (err) => {\r\n            loader.dismiss();\r\n            if (err.response.status === 409) {\r\n              this.util.createToast('User Already Exists');\r\n              this.slideChange();\r\n            } else {\r\n              this.util.createToast('Cannot Register User. Please Try Later');\r\n            }\r\n          });\r\n          // Remove this later\r\n        });\r\n  }\r\n\r\n  isLoggedIn() {\r\n    this.keycloakService\r\n      .isAuthenticated()\r\n      .then(() => {\r\n        this.util.navigateRoot();\r\n      })\r\n      .catch(() => {\r\n        console.log('Not Logged In');\r\n      });\r\n  }\r\n\r\n  createUserIfNotExists(reference) {\r\n    this.util.createLoader().then(loader => {\r\n      loader.present();\r\n      console.log('Checking if User Exists in MicroService Else Create');\r\n      this.queryResourceService\r\n        .findCustomerByReferenceUsingGET(reference)\r\n        .subscribe(\r\n          customer => {\r\n            console.log('Got Customer', customer);\r\n            this.storage.set('customer' , customer);\r\n            loader.dismiss();\r\n            this.util.navigateRoot();\r\n          },\r\n          err => {\r\n            if (err.status === 500) {\r\n              // Check if server is reachable\r\n              const url = this.apiConfiguration.rootUrl.slice(\r\n                2,\r\n                this.apiConfiguration.rootUrl.length\r\n              );\r\n              this.commandResourceService\r\n                .createCustomerUsingPOST({\r\n                  reference: this.username,\r\n                  name: this.username\r\n                })\r\n                .subscribe(\r\n                  customer => {\r\n                    console.log('Customer Created', customer);\r\n                    this.storage.set('customer' , customer);\r\n                    loader.dismiss();\r\n                    this.util.navigateRoot();\r\n                  },\r\n                  eror => {\r\n                    console.log(eror);\r\n                    loader.dismiss();\r\n                    this.util.createToast('Server is Unreachable');\r\n                  }\r\n                );\r\n            } else {\r\n              loader.dismiss();\r\n            }\r\n          }\r\n        );\r\n    });\r\n  }\r\n\r\n  // View Related Methods\r\n\r\n  loginDisabled(): boolean {\r\n    if (this.username === '' || this.password === '') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  registerDisabled(): boolean {\r\n    if (this.username === '' || this.password === '' || this.email === '') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  slide(value) {\r\n    this.value = value.detail.value;\r\n    if (this.value === 'login') {\r\n      this.slides.slideTo(0);\r\n    } else {\r\n      this.slides.slideTo(1);\r\n    }\r\n  }\r\n\r\n  slideChange() {\r\n    let currentSlide;\r\n    this.slides.getActiveIndex().then(num => {\r\n      currentSlide = num;\r\n      if (this.value === 'login' && currentSlide !== 0) {\r\n        this.value = 'signup';\r\n      } else if (this.value === 'signup' && currentSlide !== 1) {\r\n        this.value = 'login';\r\n      }\r\n    });\r\n  }\r\n\r\n  setSlideValue(): number {\r\n    this.slideChange();\r\n    return 1;\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}
=======
{"version":3,"sources":["./src/app/pages/login-signup/login-signup.page.html","./src/app/pages/login-signup/login-signup.module.ts","./src/app/pages/login-signup/login-signup.page.scss","./src/app/pages/login-signup/login-signup.page.ts"],"names":[],"mappings":"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","file":"pages-login-signup-login-signup-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar>\\n      <ion-title>Login</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-segment (ionChange)=\\\"slide($event)\\\" [value]=\\\"value\\\" class=\\\"mobile\\\">\\n    <ion-segment-button value=\\\"login\\\">\\n      <ion-label>Login</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"signup\\\">\\n      <ion-label>Register</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  \\n  <ion-content padding class=\\\"mobile\\\">\\n    <ion-slides #slides (ionSlideDidChange)=\\\"slideChange()\\\">\\n      <ion-slide>\\n        <ion-grid margin-top>\\n          <ion-row justify-content-center text-center class=\\\"centre\\\">\\n            <ion-col size=\\\"6\\\" justify-content-center>\\n              <div class=\\\"circle\\\">\\n                <ion-icon class=\\\"large-icon\\\" name=\\\"person\\\"></ion-icon>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row justify-content-center class=\\\"centre\\\">\\n            <ion-col text-center class=\\\"container-box\\\">\\n              <ion-item class=\\\"item-inner\\\">\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Username or Email</ion-label>\\n                <ion-input [(ngModel)]=\\\"username\\\" background=\\\"light\\\"></ion-input>\\n              </ion-item>\\n              <ion-item class=\\\"item-inner\\\">\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Password</ion-label>\\n                <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <ion-button [disabled]=\\\"loginDisabled()\\\" (click)=\\\"login()\\\" expand=\\\"block\\\" margin-top margin-bottom>Login\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-slide>\\n      <ion-slide>\\n        <ion-grid margin-top>\\n          <ion-row justify-content-center>\\n            <ion-col size=\\\"6\\\" text-center>\\n              <div class=\\\"circle\\\">\\n                <ion-icon class=\\\"large-icon\\\" name=\\\"person\\\"></ion-icon>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n          <ion-row justify-content-center class=\\\"centre\\\">\\n            <ion-col text-center class=\\\"container-box\\\">\\n              <ion-item class=\\\"item-inner\\\">\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Username</ion-label>\\n                <ion-input [(ngModel)]=\\\"username\\\" background=\\\"light\\\"></ion-input>\\n              </ion-item>\\n              <ion-item class=\\\"item-inner\\\">\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Email</ion-label>\\n                <ion-input [(ngModel)]=\\\"email\\\" background=\\\"light\\\"></ion-input>\\n              </ion-item>\\n              <ion-item class=\\\"item-inner\\\">\\n                <ion-label color=\\\"medium\\\" position=\\\"floating\\\">Password</ion-label>\\n                <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <ion-button [disabled]=\\\"registerDisabled()\\\" (click)=\\\"signup()\\\" expand=\\\"block\\\" margin-top margin-bottom>\\n                Register</ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-slide>\\n    </ion-slides>\\n  </ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginSignupPage } from './login-signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginSignupPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginSignupPage]\n})\nexport class LoginSignupPageModule {}\n","module.exports = \".cursor {\\n  cursor: pointer;\\n}\\n\\n.large-icon {\\n  font-size: 125px;\\n  opacity: 0.4;\\n}\\n\\n.circle {\\n  display: inline-block;\\n  background-color: aliceblue;\\n  border-radius: 50%;\\n  height: 135px;\\n  width: 135px;\\n}\\n\\n.centre {\\n  text-align: center;\\n}\\n\\n.container-box {\\n  width: 100%;\\n  max-width: 750px;\\n  display: inline-block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ppc2hudWovRGVza3RvcC9Xb3JrL0N1c3RvbWVyQXBwTGF0ZXN0L3NyYy9hcHAvcGFnZXMvbG9naW4tc2lnbnVwL2xvZ2luLXNpZ251cC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luLXNpZ251cC9sb2dpbi1zaWdudXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksZ0JBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxxQkFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi1zaWdudXAvbG9naW4tc2lnbnVwLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXJzb3Ige1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmxhcmdlLWljb24ge1xuICAgIGZvbnQtc2l6ZTogMTI1cHg7XG4gICAgb3BhY2l0eTogLjQ7XG59XG5cbi5jaXJjbGUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGhlaWdodDogMTM1cHg7XG4gICAgd2lkdGg6IDEzNXB4O1xufVxuXG4uY2VudHJlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb250YWluZXItYm94IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXgtd2lkdGg6IDc1MHB4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cbiIsIi5jdXJzb3Ige1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5sYXJnZS1pY29uIHtcbiAgZm9udC1zaXplOiAxMjVweDtcbiAgb3BhY2l0eTogMC40O1xufVxuXG4uY2lyY2xlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgaGVpZ2h0OiAxMzVweDtcbiAgd2lkdGg6IDEzNXB4O1xufVxuXG4uY2VudHJlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY29udGFpbmVyLWJveCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtd2lkdGg6IDc1MHB4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59Il19 */\"","\nimport { KeycloakService } from './../../services/security/keycloak.service';\nimport { IonSlides, MenuController } from '@ionic/angular';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { QueryResourceService } from 'src/app/api/services/query-resource.service';\nimport { CommandResourceService } from 'src/app/api/services';\nimport { Util } from 'src/app/services/util';\nimport { ApiConfiguration } from 'src/app/api/api-configuration';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-login-signup',\n  templateUrl: './login-signup.page.html',\n  styleUrls: ['./login-signup.page.scss']\n})\nexport class LoginSignupPage implements OnInit {\n  username = '';\n  password = '';\n  email = '';\n  loginTab = true;\n  value = 'login';\n  phone: number;\n  @ViewChild('slides', null) slides: IonSlides;\n\n  constructor(\n    private keycloakService: KeycloakService,\n    private queryResourceService: QueryResourceService,\n    private commandResourceService: CommandResourceService,\n    private util: Util,\n    private apiConfiguration: ApiConfiguration,\n    private storage: Storage\n  ) {}\n\n  ngOnInit() {\n    this.isLoggedIn();\n  }\n\n  // Login and Register Methods\n\n  login() {\n    this.util.createLoader()\n      .then(loader => {\n        loader.present();\n        this.keycloakService.authenticate({ username: this.username, password: this.password },\n          () => {\n            loader.dismiss();\n            console.log('slsklkslkks');\n            this.createUserIfNotExists(this.username);\n          },\n          () => {\n            loader.dismiss();\n            this.util.createToast('Invalid Username / Password');\n          });\n      });\n  }\n\n  signup() {\n    this.util.createLoader()\n      .then(loader => {\n        loader.present();\n        const user = { username: this.username, email: this.email };\n        this.keycloakService.createAccount(user, this.password,\n          (res) => {\n            loader.dismiss();\n            this.login();\n          },\n          (err) => {\n            loader.dismiss();\n            if (err.response.status === 409) {\n              this.util.createToast('User Already Exists');\n              this.slideChange();\n            } else {\n              this.util.createToast('Cannot Register User. Please Try Later');\n            }\n          });\n          // Remove this later\n        });\n  }\n\n  isLoggedIn() {\n    this.keycloakService\n      .isAuthenticated()\n      .then(() => {\n        this.util.navigateRoot();\n      })\n      .catch(() => {\n        console.log('Not Logged In');\n      });\n  }\n\n  createUserIfNotExists(reference) {\n    this.util.createLoader().then(loader => {\n      loader.present();\n      console.log('Checking if User Exists in MicroService Else Create');\n      this.queryResourceService\n        .findCustomerByReferenceUsingGET(reference)\n        .subscribe(\n          customer => {\n            console.log('Got Customer', customer);\n            this.storage.set('customer' , customer);\n            loader.dismiss();\n            this.util.navigateRoot();\n          },\n          err => {\n            if (err.status === 500) {\n              // Check if server is reachable\n              const url = this.apiConfiguration.rootUrl.slice(\n                2,\n                this.apiConfiguration.rootUrl.length\n              );\n              this.commandResourceService\n                .createCustomerUsingPOST({\n                  reference: this.username,\n                  name: this.username\n                })\n                .subscribe(\n                  customer => {\n                    console.log('Customer Created', customer);\n                    this.storage.set('customer' , customer);\n                    loader.dismiss();\n                    this.util.navigateRoot();\n                  },\n                  eror => {\n                    console.log(eror);\n                    loader.dismiss();\n                    this.util.createToast('Server is Unreachable');\n                  }\n                );\n            } else {\n              loader.dismiss();\n            }\n          }\n        );\n    });\n  }\n\n  // View Related Methods\n\n  loginDisabled(): boolean {\n    if (this.username === '' || this.password === '') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  registerDisabled(): boolean {\n    if (this.username === '' || this.password === '' || this.email === '') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  slide(value) {\n    this.value = value.detail.value;\n    if (this.value === 'login') {\n      this.slides.slideTo(0);\n    } else {\n      this.slides.slideTo(1);\n    }\n  }\n\n  slideChange() {\n    let currentSlide;\n    this.slides.getActiveIndex().then(num => {\n      currentSlide = num;\n      if (this.value === 'login' && currentSlide !== 0) {\n        this.value = 'signup';\n      } else if (this.value === 'signup' && currentSlide !== 1) {\n        this.value = 'login';\n      }\n    });\n  }\n\n  setSlideValue(): number {\n    this.slideChange();\n    return 1;\n  }\n}\n\n"],"sourceRoot":""}
>>>>>>> 55c1a055289f9a1985a8aa8e0cc24c2f3ce4e5f7
