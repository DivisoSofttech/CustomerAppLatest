<ion-toolbar>
  <ion-buttons slot="start" *ngIf="!showSearchBar && !showPlaceSearch">
    <ion-menu-button></ion-menu-button>
      <ion-item lines="none" no-margin>
      <ion-label (click)="togglePlaceSearch()">{{
        currentPlaceName
      }}</ion-label>
      <ion-icon name="locate" (click)="getCurrentLocation()"></ion-icon>
    </ion-item>
  </ion-buttons>

  <!--SearchBar Toggle Button-->
  <ion-buttons
    slot="end"
    *ngIf="showSearchBar === false && showPlaceSearch === false"
  >
    <ion-button (click)="toggleSearchBar()">
      <ion-icon name="search" slot="icon-only"></ion-icon>
    </ion-button>
  </ion-buttons>

  <!--SearchBar Restaurant-->
  <ion-buttons [ngClass]="(showSearchBar === true && showPlaceSearch === false)?'':'hidden'">
    <ion-searchbar
      #restaurantSearch

      showCancelButton
      debounce="1500"
      placeholder="Search"
      (ionCancel)="toggleSearchBar()"
      (ionChange)="search($event)"
    ></ion-searchbar>
  </ion-buttons>

  <ion-buttons slot="end"
  *ngIf="showSearchBar === false && showPlaceSearch === false"
  >
    <ion-button (click)="showNotification()">
        <ion-icon name="notifications-outline"></ion-icon>
    </ion-button>
  </ion-buttons>

  <!--SearchBar Restaurant-->
  <ion-buttons [ngClass]="(showPlaceSearch === true && showSearchBar === false)?'':'hidden'">
    <ion-searchbar
      #placeSearch

      showCancelButton
      debounce="1500"
      placeholder="Enter Location Name"
      (ionCancel)="togglePlaceSearch()"
      (ionChange)="getPlacePredictions($event)"
    ></ion-searchbar>
  </ion-buttons>
</ion-toolbar>

<!--List Of Available place Suggestions-->
<ion-list *ngIf="places.length > 0 && showPlaceSearch === true">
  <ion-item *ngFor="let place of places" (click)="selectPlace(place)">
    {{ place.description }}</ion-item
  >
</ion-list>

<ion-content
  class="container"
  [style.display]="(showSearchPane === true && showSearchBar === true) ? 'block' : 'none'"
>
  <app-loading [type]="'restaurant'" *ngIf="showLoading"></app-loading>

  <ion-grid *ngIf="!showLoading">
    <ion-row *ngIf="storeSearchResults.length > 0">
      <app-restaurant-card
      *ngFor="let store of storeSearchResults"
      [store]="store"
    ></app-restaurant-card>
    </ion-row>
    <ion-row
      *ngIf="storeSearchResults.length === 0"
      class="vertical-align-center"
    >
      <ion-col text-center>
        <p>No Results Found(0)</p>
      </ion-col>
    </ion-row>

  </ion-grid>

  <ion-infinite-scroll threshold="100px" (ionInfinite)="loadMoreData($event)">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more data..."
    >
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
