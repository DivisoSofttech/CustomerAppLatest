{"version":3,"sources":["./src/app/pages/restaurant/restaurant.page.html","./src/app/pages/restaurant/restaurant.module.ts","./src/app/pages/restaurant/restaurant.page.scss","./src/app/pages/restaurant/restaurant.page.ts"],"names":[],"mappings":"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","file":"pages-restaurant-restaurant-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <app-header (placeChanged)=\\\"updatedLocation($event)\\\"></app-header>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <app-map></app-map>\\r\\n  <app-banner></app-banner>\\r\\n\\r\\n  <ion-list>\\r\\n    <div class=\\\"highlightText\\\">\\r\\n      <ion-label>\\r\\n        <h2>What's Nearby!</h2>\\r\\n      </ion-label>\\r\\n    </div>\\r\\n    <app-restaurant-card\\r\\n      *ngFor=\\\"let store of stores\\\"\\r\\n      [store]=\\\"store\\\"\\r\\n    ></app-restaurant-card>\\r\\n  </ion-list>\\r\\n\\r\\n  <app-loading *ngIf=\\\"showLoading === true\\\" [type]=\\\"'restaurant'\\\"></app-loading>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreStores($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"bubbles\\\"\\r\\n      loadingText=\\\"Loading more data...\\\"\\r\\n    >\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"arrow-dropdown\\\"\\r\\n      pullingText=\\\"Pull to refresh\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n    >\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <app-filter\\r\\n    *ngIf=\\\"showFilters\\\"\\r\\n    (closeFilter)=\\\"toggleFilteromponent()\\\"\\r\\n  ></app-filter>\\r\\n  <app-footer \\r\\n  (filter)=\\\"toggleFilteromponent()\\\"\\r\\n  ></app-footer>\\r\\n</ion-footer>\\r\\n\"","import { FilterComponent } from './../../components/filter/filter.component';\r\nimport { BannerComponent } from './../../components/banner/banner.component';\r\nimport { HeaderComponent } from './../../components/header/header.component';\r\nimport { ComponentsModule } from './../../components/components.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RestaurantPage } from './restaurant.page';\r\nimport { RestaurantCardComponent } from 'src/app/components/restaurant-card/restaurant-card.component';\r\nimport { LoadingComponent } from 'src/app/components/loading/loading.component';\r\nimport { FooterComponent } from 'src/app/components/footer/footer.component';\r\nimport { MapComponent } from 'src/app/components/map/map.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RestaurantPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RestaurantPage],\r\n  entryComponents: [HeaderComponent ,     FooterComponent, BannerComponent , RestaurantCardComponent , \r\n    FilterComponent, LoadingComponent,   MapComponent]\r\n})\r\nexport class RestaurantPageModule {}\r\n","module.exports = \".highlightText {\\n  padding: 3px 13px;\\n  background: #f8f4f4;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVzdGF1cmFudC9GOlxcUHJvamVjdHNcXENBLUxhdGVzdFxcQ3VzdG9tZXJBcHBMYXRlc3Qvc3JjXFxhcHBcXHBhZ2VzXFxyZXN0YXVyYW50XFxyZXN0YXVyYW50LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcmVzdGF1cmFudC9yZXN0YXVyYW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Jlc3RhdXJhbnQvcmVzdGF1cmFudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGlnaGxpZ2h0VGV4dCB7XHJcbiAgcGFkZGluZzogM3B4IDEzcHg7XHJcbiAgYmFja2dyb3VuZDogI2Y4ZjRmNDtcclxufVxyXG4iLCIuaGlnaGxpZ2h0VGV4dCB7XG4gIHBhZGRpbmc6IDNweCAxM3B4O1xuICBiYWNrZ3JvdW5kOiAjZjhmNGY0O1xufSJdfQ== */\"","import { StoreDTO } from './../../api/models/store-dto';\r\nimport { FilterService, FILTER_TYPES } from './../../services/filter.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Util } from 'src/app/services/util';\r\nimport { IonInfiniteScroll, IonRefresher, IonSlides } from '@ionic/angular';\r\nimport { NGXLogger } from 'ngx-logger';\r\nimport { MapComponent } from 'src/app/components/map/map.component';\r\nimport { RouteService } from 'src/app/services/route.service';\r\nimport { FooterComponent } from 'src/app/components/footer/footer.component';\r\n\r\n@Component({\r\n  selector: 'app-restaurant',\r\n  templateUrl: './restaurant.page.html',\r\n  styleUrls: ['./restaurant.page.scss']\r\n})\r\nexport class RestaurantPage implements OnInit {\r\n\r\n  showLoading = true;\r\n\r\n  showFilters = false;\r\n\r\n  page = 0;\r\n\r\n  stores: StoreDTO[] = [];\r\n\r\n  @ViewChild(IonInfiniteScroll , null) ionInfiniteScroll: IonInfiniteScroll;\r\n  @ViewChild(IonRefresher , null) IonRefresher: IonRefresher;\r\n  @ViewChild(MapComponent , null) mapComponent: MapComponent;\r\n  @ViewChild(FooterComponent , null) footer: FooterComponent;\r\n\r\n\r\n\r\n  constructor(\r\n    private filter: FilterService,\r\n    private util: Util,\r\n    private logger: NGXLogger,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getStores();\r\n  }\r\n\r\n  updatedLocation(event) {\r\n    this.logger.info('Changed Current Location - LatLon ' , event);\r\n    this.filter.setCoordinates(event.latLon);\r\n    // this.logger.info('Setting Distance_wise Filter');\r\n    // this.filter.setFilter(FILTER_TYPES.DISTANCE_WISE);\r\n    // this.logger.info('Getting Stores');\r\n  }\r\n\r\n  getStores() {\r\n    this.filter.getSubscription().subscribe(data => {\r\n      this.stores = [];\r\n      this.filter.getStores(0, (totalElements, totalPages, stores) => {\r\n        if (totalPages === 1) {\r\n          this.logger.info('Disabling Infinite Scroll');\r\n          this.toggleInfiniteScroll();\r\n        }\r\n        this.logger.info('Got Stores ' , data);\r\n        stores.forEach(s => {\r\n          this.stores.push(s);\r\n        });\r\n        this.mapComponent.setStores(stores);\r\n        this.showLoading = false;\r\n        this.toggleIonRefresher();\r\n      });\r\n    });\r\n  }\r\n\r\n  loadMoreStores(event) {\r\n    this.logger.info('Load More Stores if exists');\r\n    this.page++;\r\n    this.filter.getStores(this.page, (totalElements, totalPages, stores) => {\r\n      if (this.page === totalPages) {\r\n        this.toggleInfiniteScroll();\r\n      }\r\n      if (totalPages === 1) {\r\n        this.toggleInfiniteScroll();\r\n      } else {\r\n        console.log(stores);\r\n        stores.forEach(s => {\r\n          this.stores.push(s);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  doRefresh(event) {\r\n    this.logger.info('Refreshing Page');\r\n    this.getStores();\r\n  }\r\n\r\n  toggleInfiniteScroll() {\r\n    this.ionInfiniteScroll.disabled = !this.ionInfiniteScroll.disabled;\r\n  }\r\n\r\n  toggleIonRefresher() {\r\n    this.IonRefresher.complete();\r\n  }\r\n\r\n  toggleFilteromponent() {\r\n    this.showFilters = !this.showFilters;\r\n  }\r\n\r\n  // Fix for Footer\r\n  ionViewDidEnter() {\r\n    this.logger.info('Ion View Did enter');\r\n    this.footer.setcurrentRoute('restaurant');\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}