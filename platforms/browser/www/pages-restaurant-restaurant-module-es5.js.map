{"version":3,"sources":["./src/app/pages/restaurant/restaurant.page.html","./src/app/pages/restaurant/restaurant.module.ts","./src/app/pages/restaurant/restaurant.page.scss","./src/app/pages/restaurant/restaurant.page.ts"],"names":[],"mappings":"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","file":"pages-restaurant-restaurant-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <app-header (placeChanged)=\\\"updatedLocation($event)\\\"></app-header>\\n</ion-header>\\n<ion-content>\\n  <app-map></app-map>\\n  <app-banner></app-banner>\\n\\n  <ion-list>\\n    <div class=\\\"highlightText\\\">\\n      <ion-label>\\n        <h2>What's Nearby!</h2>\\n      </ion-label>\\n    </div>\\n    <app-restaurant-card\\n      *ngFor=\\\"let store of stores\\\"\\n      [store]=\\\"store\\\"\\n    ></app-restaurant-card>\\n  </ion-list>\\n\\n  <app-loading *ngIf=\\\"showLoading === true\\\" [type]=\\\"'restaurant'\\\"></app-loading>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadMoreStores($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\"\\n    >\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"arrow-dropdown\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n    >\\n    </ion-refresher-content>\\n  </ion-refresher>\\n</ion-content>\\n<ion-footer>\\n  <app-filter\\n    *ngIf=\\\"showFilters\\\"\\n    (closeFilter)=\\\"toggleFilteromponent()\\\"\\n  ></app-filter>\\n  <app-footer \\n  (filter)=\\\"toggleFilteromponent()\\\"\\n  ></app-footer>\\n</ion-footer>\\n\"","import { FilterComponent } from './../../components/filter/filter.component';\nimport { BannerComponent } from './../../components/banner/banner.component';\nimport { HeaderComponent } from './../../components/header/header.component';\nimport { ComponentsModule } from './../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RestaurantPage } from './restaurant.page';\nimport { RestaurantCardComponent } from 'src/app/components/restaurant-card/restaurant-card.component';\nimport { LoadingComponent } from 'src/app/components/loading/loading.component';\nimport { FooterComponent } from 'src/app/components/footer/footer.component';\nimport { MapComponent } from 'src/app/components/map/map.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RestaurantPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RestaurantPage],\n  entryComponents: [HeaderComponent ,     FooterComponent, BannerComponent , RestaurantCardComponent , \n    FilterComponent, LoadingComponent,   MapComponent]\n})\nexport class RestaurantPageModule {}\n","module.exports = \".highlightText {\\n  padding: 3px 13px;\\n  background: #f8f4f4;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ppc2hudWovRGVza3RvcC9Xb3JrL0N1c3RvbWVyQXBwTGF0ZXN0L3NyYy9hcHAvcGFnZXMvcmVzdGF1cmFudC9yZXN0YXVyYW50LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcmVzdGF1cmFudC9yZXN0YXVyYW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Jlc3RhdXJhbnQvcmVzdGF1cmFudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGlnaGxpZ2h0VGV4dCB7XG4gIHBhZGRpbmc6IDNweCAxM3B4O1xuICBiYWNrZ3JvdW5kOiAjZjhmNGY0O1xufVxuIiwiLmhpZ2hsaWdodFRleHQge1xuICBwYWRkaW5nOiAzcHggMTNweDtcbiAgYmFja2dyb3VuZDogI2Y4ZjRmNDtcbn0iXX0= */\"","import { StoreDTO } from './../../api/models/store-dto';\nimport { FilterService, FILTER_TYPES } from './../../services/filter.service';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { Util } from 'src/app/services/util';\nimport { IonInfiniteScroll, IonRefresher, IonSlides } from '@ionic/angular';\nimport { NGXLogger } from 'ngx-logger';\nimport { MapComponent } from 'src/app/components/map/map.component';\nimport { RouteService } from 'src/app/services/route.service';\nimport { FooterComponent } from 'src/app/components/footer/footer.component';\n\n@Component({\n  selector: 'app-restaurant',\n  templateUrl: './restaurant.page.html',\n  styleUrls: ['./restaurant.page.scss']\n})\nexport class RestaurantPage implements OnInit {\n\n  showLoading = true;\n\n  showFilters = false;\n\n  page = 0;\n\n  stores: StoreDTO[] = [];\n\n  @ViewChild(IonInfiniteScroll , null) ionInfiniteScroll: IonInfiniteScroll;\n  @ViewChild(IonRefresher , null) IonRefresher: IonRefresher;\n  @ViewChild(MapComponent , null) mapComponent: MapComponent;\n  @ViewChild(FooterComponent , null) footer: FooterComponent;\n\n\n\n  constructor(\n    private filter: FilterService,\n    private util: Util,\n    private logger: NGXLogger,\n  ) {}\n\n  ngOnInit() {\n    this.getStores();\n  }\n\n  updatedLocation(event) {\n    this.logger.info('Changed Current Location - LatLon ' , event);\n    this.filter.setCoordinates(event.latLon);\n    // this.logger.info('Setting Distance_wise Filter');\n    // this.filter.setFilter(FILTER_TYPES.DISTANCE_WISE);\n    // this.logger.info('Getting Stores');\n  }\n\n  getStores() {\n    this.filter.getSubscription().subscribe(data => {\n      this.stores = [];\n      this.filter.getStores(0, (totalElements, totalPages, stores) => {\n        if (totalPages === 1) {\n          this.logger.info('Disabling Infinite Scroll');\n          this.toggleInfiniteScroll();\n        }\n        this.logger.info('Got Stores ' , data);\n        stores.forEach(s => {\n          this.stores.push(s);\n        });\n\n        // Dumb data Unti provided with store location\n        this.mapComponent.setStoreLocationMarkers(stores);\n        this.showLoading = false;\n        this.toggleIonRefresher();\n      });\n    });\n  }\n\n  loadMoreStores(event) {\n    this.logger.info('Load More Stores if exists');\n    this.page++;\n    this.filter.getStores(this.page, (totalElements, totalPages, stores) => {\n      if (this.page === totalPages) {\n        this.toggleInfiniteScroll();\n      }\n      if (totalPages === 1) {\n        this.toggleInfiniteScroll();\n      } else {\n        console.log(stores);\n        stores.forEach(s => {\n          this.stores.push(s);\n        });\n      }\n    });\n  }\n\n  doRefresh(event) {\n    this.logger.info('Refreshing Page');\n    this.getStores();\n  }\n\n  toggleInfiniteScroll() {\n    this.ionInfiniteScroll.disabled = !this.ionInfiniteScroll.disabled;\n  }\n\n  toggleIonRefresher() {\n    this.logger.info('Disableing Ion Refresher');\n    this.IonRefresher.complete();\n  }\n\n  toggleFilteromponent() {\n    this.showFilters = !this.showFilters;\n  }\n\n  // Fix for Footer\n  ionViewDidEnter() {\n    this.logger.info('Ion View Did enter');\n    this.footer.setcurrentRoute('restaurant');\n  }\n\n}\n"],"sourceRoot":""}